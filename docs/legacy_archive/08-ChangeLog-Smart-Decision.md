# ุณุฌู ุชุญุฏูุซุงุช ููุญุฉ ุงููุฑุงุฑ (Smart Decision Panel v2)
**ุงูุชุงุฑูุฎ:** 2025-12-14
**ุงููุญูุฑ:** ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏูุ ุถุจุท ุงูููุทูุ ููุฒุงููุฉ ุงูููุงุนุฏ ูุน ุงููุธุงู ุงูุฎููู.

---

## ๐ ููุฎุต ุงูุชุบููุฑุงุช ุงูุฌููุฑูุฉ
ุชู ุฅุนุงุฏุฉ ุชุตููู ููุทู ุงูุชูุงุนู ูู ููุญุฉ ุงููุฑุงุฑ (`decision.js` & `decision.html`) ููููู ุฃูุซุฑ ุฐูุงุกู ูุฃูู ุชุณุจุจุงู ูู ุงูุฃุฎุทุงุก. ุงูุชุญุณููุงุช ุฑูุฒุช ุนูู ุซูุงุซุฉ ูุญุงูุฑ ุฑุฆูุณูุฉ:
1.  **ุงูุฒุฑ ุงูุฐูู (Smart Add Button)**: ูุง ูุธูุฑ ุฅูุง ุนูุฏ ุงูุญุงุฌุฉ ูุจุดุฑูุท ุตุงุฑูุฉ.
2.  **ุงูุจุญุซ ุงูุตุงุฑู (Strict Search)**: ููุงุชุฑ ุฏูููุฉ ุชููุน ุงููุชุงุฆุฌ ุงูุนุดูุงุฆูุฉ (ูุซู "Co").
3.  **ุงูููุงุฆู ุงูุฐููุฉ (Smart Dropdowns)**: ุณููู ูุฎุชูู ุชูุงูุงู ููููุฑุฏ (ุจุญุซ ููุท) ูุงูุจูู (ูุงุฆูุฉ ุงุฎุชูุงุฑ).

---

## ๐ ุงูุชูุงุตูู ุงูุชูููุฉ

### 1. ุฒุฑ "ุฅุถุงูุฉ ููุฑุฏ ุฌุฏูุฏ" (Smart Add Button)
**ุงููุดููุฉ ุงูุณุงุจูุฉ:** ูุงู ุงูุฒุฑ ูุธูุฑ ุฏุงุฆูุงู (ุฃู ูุนุทู)ุ ููุงู ูุนุชูุฏ ุนูู ูุญุต ุจุณูุท ููุทููุ ููุง ูุณุจุจ ุฅุฑุจุงูุงู ูููุณุชุฎุฏู ุฃู ูุณูุญ ุจุฅุถุงูุฉ ุฃุณูุงุก ููุฑุฑุฉ ุจุณูููุฉ.

**ุงูุชุญุฏูุซ ุงูุฌุฏูุฏ:**
*   **ุงูุฅุฎูุงุก ุงูุฐูู:** ุงูุฒุฑ ุงูุขู `hidden` ุงูุชุฑุงุถูุงู ููุง ูุธูุฑ ุฅูุง ุนูุฏ ูุชุงุจุฉ ุงุณู ุฌุฏูุฏ ููุฑูุฏ.
*   **ุงูุชุญูู ุงูุตุงุฑู (Backend Sync):** ูุณุชุฎุฏู ุฏุงูุฉ `_simulateNormalization` ููุญุงูุงุฉ ููุงุนุฏ ุงูุฎุงุฏู:
    *   ุฅุฒุงูุฉ ุงูุฑููุฒ ุงูุฒุงุฆุฏุฉ.
    *   ุชุทุจูุน ุงูุญุฑูู ุงูุนุฑุจูุฉ (ุฃ -> ุงุ ุฉ -> ู).
    *   **ุงูุดุฑุท:** ูุฌุจ ุฃู ูููู ุงูุงุณู "ุงููุทุจุน" (Normalized) ุฃุทูู ูู ุฃู ูุณุงูู **5 ุญุฑูู**.
    *   **ูุซุงู:** ูุชุงุจุฉ "Est. ABC" (8 ุญุฑูู) -> ุชุทุจูุน "abc" (3 ุญุฑูู) -> **ุงูุฒุฑ ูุง ูุธูุฑ**.
*   **ููุน ุงูุชูุฑุงุฑ:** ูุง ูุธูุฑ ุงูุฒุฑ ุฅุฐุง ูุงู ุงูุงุณู ุงููุฏุฎู ูุทุงุจูุงู ูุฃู ููุฑุฏ ูู ุงููุงููุณ ุฃู ูุงุฆูุฉ ุงููุฑุดุญูู (ุญุชู ูู ูู ูุชู ุงุฎุชูุงุฑู).
*   **ูุต ุฏููุงูููู:** ุงูุฒุฑ ูุธูุฑ ุงููุต: `+ ุฅุถุงูุฉ "ุงูุงุณู ุงูููุชูุจ" ูููุฑุฏ ุฌุฏูุฏ` ูุชุฃููุฏ ูุง ุณูุชู ุฅุถุงูุชู.
*   **ุฑุณุงุฆู ูุญููุฉ:** ุฑุณุงุฆู ุงููุฌุงุญ/ุงูุฎุทุฃ ุชุธูุฑ ูุญููุงู ุชุญุช ุงูุฒุฑ ูุจุงุดุฑุฉ ุจุฏูุงู ูู ุงูุชูุจููุงุช ุงูุนุงูุฉ.

### 2. ุงูุจุญุซ ูุงูุชุตููุฉ (Strict Search Logic)
**ุงููุดููุฉ ุงูุณุงุจูุฉ:** ูุชุงุจุฉ ุฃุญุฑู ูุตูุฑุฉ ูุซู "Co" ุฃู "ุดุฑูุฉ" ูุงูุช ุชุธูุฑ ุขูุงู ุงููุชุงุฆุฌ ุบูุฑ ุงููููุฏุฉุ ููุง ูุณุจุจ ุจุทุก ุงููุธุงู ูุตุนูุจุฉ ุงูุงุฎุชูุงุฑ.

**ุงูุชุญุฏูุซ ุงูุฌุฏูุฏ (Backend Sync):**
ุชูุช ูุฒุงููุฉ ููุงุนุฏ ุงูุจุญุซ ูู ุงููุงุฌูุฉ (`decision.js`) ูุชุทุงุจู ุชูุงูุงู ููู `App\Support\Normalizer.php`.
*   **ูุงุฆูุฉ ุงูุชุฌุงูู (Stop Words):** ุฅุฐุง ูุงู ุงูุจุญุซ ูุญุชูู ููุท ุนูู ุฅุญุฏู ูุฐู ุงููููุงุชุ ูุชู ุชุฌุงููู ูุฅุฎูุงุก ุงููุงุฆูุฉ:
    *   `['ุดุฑูุฉ', 'ุดุฑูู', 'ูุคุณุณุฉ', 'ูุคุณุณู', 'ููุชุจ', 'ูุตูุน', 'trading', 'est', 'company', 'co', 'ltd', 'inc', 'global', ...]`
*   **ุงูุญุฏ ุงูุฃุฏูู:** ุงูุจุญุซ ูุชุทูุจ **3 ุฃุญุฑู** "ุฐุงุช ูุนูู" (ุบูุฑ ููุฌูุฏุฉ ูู ูุงุฆูุฉ ุงูุชุฌุงูู) ูุจุฏุก ุฅุธูุงุฑ ุงููุชุงุฆุฌ.

### 3. ูุงุฆูุฉ ุงูุจููู (Fixed List / Select Menu Mode)
**ุงููุดููุฉ ุงูุณุงุจูุฉ:** ูุงูุช ูุงุฆูุฉ ุงูุจููู ุชุนุงูู ูุนุงููุฉ ุงูุจุญุซ ุงูุญุฑุ ููุง ูุชุทูุจ ูุชุงุจุฉ ุงูุงุณู ุจุงูุถุจุท.

**ุงูุชุญุฏูุซ ุงูุฌุฏูุฏ:**
ุชุญูู ุณููู ูุงุฆูุฉ ุงูุจููู ููุฌูุน ุจูู "Select Menu" ู "Search":
*   **ุนูุฏูุง ูููู ุงูุญูู ูุงุฑุบุงู:** ุงูููุฑ ุนููู ููุชุญ **ุงููุงุฆูุฉ ุงููุงููุฉ** (ุฃูุถู 50 ุจููุงู) ููุงุฎุชูุงุฑ ุงููุจุงุดุฑ.
*   **ุนูุฏูุง ูููู ุงูุญูู ููุชูุฆุงู:** ุงูููุฑ **ูุง ููุนู ุดูุฆุงู** (ูุชุฌูุจ ุฅุธูุงุฑ ุงุณู ูุงุญุฏ ููุฑุฑ). ูุฌุจ ูุณุญ ุงูุญูู ุฃููุงู ููุจุญุซ ูู ุฌุฏูุฏ.
*   **ุนูุฏ ุงููุชุงุจุฉ:** ูุนูู ูุจุญุซ ุฐูู (ูุฏุนู ุงูุงุณู ุงูุนุฑุจูุ ุงูุฅูุฌููุฒูุ ูุงูุฑูุฒ ุงููุฎุชุตุฑ).

### 4. ุฅุตูุงุญุงุช ุงููุงุฌูุฉ (UI Fixes)
*   **Overflow Clipping:** ุชู ุฅุฒุงูุฉ `overflow-hidden` ูู ุญุงููุงุช ุงูุจุทุงูุงุช (`.card`) ูู `decision.html` ููุณูุงุญ ููููุงุฆู ุงูููุณุฏูุฉ ุจุงูุธููุฑ ููู ุงูุนูุงุตุฑ ุงูุฃุฎุฑู ุฏูู ูุต.
*   **Placeholder Interactions:** ุนูุฏ ุงุณุชุฎุฏุงู ุฒุฑ "ุฅุถุงูุฉ ุฌุฏูุฏ"ุ ูุชู ุชุญุฏูุซ ุงูู Placeholder ููุนูุณ ุงูุงุณู ุงูุฐู ุชูุช ุฅุถุงูุชู.

---

## ๐ ุงููููุงุช ุงููุชุฃุซุฑุฉ
*   `www/assets/js/decision/decision.js` (ุชุญุฏูุซ ุงูุฏูุงู: `_handleSupplierInput`, `_getSupplierSuggestions`, `_getBankSuggestions`, `_updateAddButtonState`)
*   `www/decision.html` (ุชุญุฏูุซ CSSุ ุฅุฒุงูุฉ Overflowุ ุฅุถุงูุฉ ุญุงููุงุช ุฑุณุงุฆู ุงูุฎุทุฃ)

## ๐ ูุฑุฌุน ุงูููุฏ (Code Reference)
ุชู ุชูุซูู ุงูุฏูุงู ุงูุฌุฏูุฏุฉ ูู ููู `decision.js` ุจุงุณุชุฎุฏุงู ุชุนูููุงุช JSDoc ููุตูุฉ ุชุดุฑุญ ุงูููุทู ุงูุฌุฏูุฏ (ุงุจุญุซ ุนู ูุณู `LOGIC UPDATE`).
