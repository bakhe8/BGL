# Ø§Ù„Ø®Ø·Ø· Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© Ù„Ù…Ø´Ø±ÙˆØ¹ BGL

> **ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡**: 2025-12-19  
> **Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«**: 2025-12-19

---

## ðŸ“‹ Ø§Ù„ÙÙ‡Ø±Ø³

1. [Ø¥Ø¹Ø§Ø¯Ø© Ù‡ÙŠÙƒÙ„Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©](#Ø¥Ø¹Ø§Ø¯Ø©-Ù‡ÙŠÙƒÙ„Ø©-Ø§Ù„Ù…Ù„ÙØ§Øª-Ø§Ù„ÙƒØ¨ÙŠØ±Ø©)
2. [Dependency Injection Container](#dependency-injection-container)
3. [ØªÙˆØ­ÙŠØ¯ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„Ù…](#ØªÙˆØ­ÙŠØ¯-Ù†Ø¸Ø§Ù…-Ø§Ù„ØªØ¹Ù„Ù…)

---

## ðŸ”§ Ø¥Ø¹Ø§Ø¯Ø© Ù‡ÙŠÙƒÙ„Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©

### ImportedRecordRepository.php (752 Ø³Ø·Ø±)

**Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©**: Ù…Ù„Ù ÙƒØ¨ÙŠØ± ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ CRUD + Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª + Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©

**Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©**:
```
ImportedRecordRepository.php (CRUD Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ ÙÙ‚Ø·)
â”œâ”€â”€ create(), find(), update(), delete()
â”œâ”€â”€ allBySession(), count()
â””â”€â”€ updateDecision()

RecordStatsRepository.php (Ø¬Ø¯ÙŠØ¯)
â”œâ”€â”€ getStats()
â”œâ”€â”€ getAdvancedStats()
â”œâ”€â”€ getDataQualityStats()
â””â”€â”€ getExpiringGuarantees()

RecordQueryRepository.php (Ø¬Ø¯ÙŠØ¯)
â”œâ”€â”€ findByRawSupplierName()
â”œâ”€â”€ getTopSuppliersByCount()
â”œâ”€â”€ getTopBanksByValue()
â””â”€â”€ getTemporalTrends()
```

**Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©**: ðŸŸ¡ Ù…ØªÙˆØ³Ø·Ø© (Ø¨Ø¹Ø¯ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©)

---

### DecisionController.php (587 Ø³Ø·Ø±)

**Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©**: Controller ÙƒØ¨ÙŠØ± ÙŠØ¯ÙŠØ± Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª + Ø§Ù„ØªØ¹Ù„Ù… + Ø§Ù„Ù†Ø´Ø±

**Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©**:
```
DecisionController.php (Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª ÙÙ‚Ø·)
â”œâ”€â”€ show(), saveDecision()
â””â”€â”€ getCandidates(), recalculateAll()

LearningService.php (Ø¬Ø¯ÙŠØ¯)
â”œâ”€â”€ learnFromSupplierDecision()
â”œâ”€â”€ learnFromBankDecision()
â””â”€â”€ incrementUsage(), incrementBlock()

PropagationService.php (Ø¬Ø¯ÙŠØ¯)
â”œâ”€â”€ propagateDecisionToSimilar()
â”œâ”€â”€ findSimilarRecords()
â””â”€â”€ batchUpdate()
```

**Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©**: ðŸŸ¡ Ù…ØªÙˆØ³Ø·Ø©

---

## ðŸ—ï¸ Dependency Injection Container

### Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©

ÙƒÙ„ Controller ÙŠÙ†Ø´Ø¦ Ø§Ù„Ù€ Services ÙŠØ¯ÙˆÙŠØ§Ù‹:

```php
// DecisionController.php
$this->candidates = new CandidateService(
    new SupplierRepository(),
    new SupplierAlternativeNameRepository(),
    ...
);
```

### Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©

Ø¥Ù†Ø´Ø§Ø¡ `Container.php` Ø¨Ø³ÙŠØ·:

```php
<?php
namespace App\Support;

class Container
{
    private static array $instances = [];
    
    public static function supplierRepository(): SupplierRepository
    {
        return self::$instances['supplier'] ??= new SupplierRepository();
    }
    
    public static function matchingService(): MatchingService
    {
        return self::$instances['matching'] ??= new MatchingService(
            self::supplierRepository(),
            self::supplierAlternativeNameRepository(),
            self::bankRepository()
        );
    }
    
    // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù€ Services
}
```

**Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©**: ðŸŸ¢ Ù…Ù†Ø®ÙØ¶Ø© (Ù„Ø§ ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø­Ø§Ù„ÙŠØ©)

---

## ðŸ“Š ØªÙˆØ­ÙŠØ¯ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„Ù…

### Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (4 Ø¬Ø¯Ø§ÙˆÙ„)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. supplier_suggestions (Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†)                         â”‚
â”‚     â”œâ”€â”€ Ø§Ù„ØºØ±Ø¶: Cache Ù„Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©                            â”‚
â”‚     â””â”€â”€ ÙŠÙØ³ØªØ®Ø¯Ù…: CandidateService, DecisionController               â”‚
â”‚                                                                      â”‚
â”‚  2. user_decisions (Ø³Ø¬Ù„ Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª)                                   â”‚
â”‚     â”œâ”€â”€ Ø§Ù„ØºØ±Ø¶: ØªØªØ¨Ø¹ ÙƒÙ„ Ù‚Ø±Ø§Ø±                                        â”‚
â”‚     â””â”€â”€ ÙŠÙØ³ØªØ®Ø¯Ù…: DecisionController (Ø¬Ø²Ø¦ÙŠØ§Ù‹ - Ø§Ù„Ø¥Ø­ØµØ§Ø¡Ø§Øª ØºÙŠØ± Ù…ÙØ¹Ù‘Ù„Ø©) â”‚
â”‚                                                                      â”‚
â”‚  3. bank_aliases_learning (ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ù†ÙˆÙƒ)                             â”‚
â”‚     â”œâ”€â”€ Ø§Ù„ØºØ±Ø¶: Ø±Ø¨Ø· Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¨Ù†ÙˆÙƒ                                     â”‚
â”‚     â””â”€â”€ ÙŠÙØ³ØªØ®Ø¯Ù…: MatchingService, BankCandidateService              â”‚
â”‚                                                                      â”‚
â”‚  4. learning_log (Ø³Ø¬Ù„ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ)                              â”‚
â”‚     â”œâ”€â”€ Ø§Ù„ØºØ±Ø¶: Debugging                                            â”‚
â”‚     â””â”€â”€ ÙŠÙØ³ØªØ®Ø¯Ù…: AutoAcceptService ÙÙ‚Ø·                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ù‚Ø¨Ù„ Ø§Ù„ØªÙˆØ­ÙŠØ¯

1. **ØªÙˆØ«ÙŠÙ‚ Ø´Ø§Ù…Ù„** Ù„ÙƒÙ„ Ø¬Ø¯ÙˆÙ„ ÙˆØ¯ÙˆØ±Ù‡
2. **ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ©**: Ø£ÙŠ ÙƒÙˆØ¯ ÙŠÙ‚Ø±Ø£/ÙŠÙƒØªØ¨ Ù„ÙƒÙ„ Ø¬Ø¯ÙˆÙ„ØŸ
3. **ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ÙˆØ­Ø¯** (Ø¥Ù† ÙƒØ§Ù† Ø°Ù„Ùƒ Ù…Ù…ÙƒÙ†Ø§Ù‹)
4. **Ø®Ø·Ø© ØªØ±Ø­ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**

### Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø©

**Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø£: Ø§Ù„Ø¥Ø¨Ù‚Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ**
- Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ§Øª: Ù„Ø§ ØªØºÙŠÙŠØ±ØŒ Ù…Ø³ØªÙ‚Ø±
- Ø§Ù„Ø³Ù„Ø¨ÙŠØ§Øª: ØªØ´ØªØª Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª

**Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø¨: Ø¯Ù…Ø¬ supplier_* ÙÙ‚Ø·**
- Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ§Øª: ØªØ¨Ø³ÙŠØ· Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†
- Ø§Ù„Ø³Ù„Ø¨ÙŠØ§Øª: ÙŠØ¨Ù‚Ù‰ Ø§Ù„Ø¨Ù†ÙˆÙƒ Ù…Ù†ÙØµÙ„Ø§Ù‹

**Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ Ø¬: Ù†Ø¸Ø§Ù… Ù…ÙˆØ­Ø¯**
- Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ§Øª: Ù…Ø±ÙƒØ²ÙŠØ©
- Ø§Ù„Ø³Ù„Ø¨ÙŠØ§Øª: ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„ØªØ±Ø­ÙŠÙ„

**Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©**: ðŸ”´ ÙŠØ­ØªØ§Ø¬ ØªØ­Ù„ÙŠÙ„ Ø¹Ù…ÙŠÙ‚ Ø£ÙˆÙ„Ø§Ù‹

---

## ðŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª

- Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·Ø· **Ù„ÙŠØ³Øª Ø¹Ø§Ø¬Ù„Ø©** ÙˆÙŠÙ…ÙƒÙ† ØªÙ†ÙÙŠØ°Ù‡Ø§ ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹
- ÙŠØ¬Ø¨ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù‚Ø¨Ù„ Ø£ÙŠ Ø¥Ø¹Ø§Ø¯Ø© Ù‡ÙŠÙƒÙ„Ø© ÙƒØ¨ÙŠØ±Ø©
- ÙƒÙ„ ØªØºÙŠÙŠØ± ÙŠØ­ØªØ§Ø¬ Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆÙ…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
